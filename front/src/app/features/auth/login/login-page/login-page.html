<section class="bg-white min-h-screen">
  <div class="container-auth pt-10">

    <!-- Back arrow (mobile + desktop) -->
    <div class="mb-6">
      <a routerLink="/" class="inline-block">
        <img
          src="/images/common/arrow-left.svg"
          alt="Back"
          class="w-10"
        />
      </a>
    </div>

    <!-- Mobile logo only -->
    <div class="md:hidden mb-6">
      <img
        src="/images/illustrations/welcome-auth-mobile.png"
        alt="MDD"
        class="mx-auto"
      />
    </div>

    <!-- Title -->
    <h1 class="text-2xl text-center mb-8">
      Se connecter
    </h1>

    <!-- Form -->
    <form
      [formGroup]="loginForm"
      (ngSubmit)="onSubmit()"
      class="max-w-sm mx-auto flex flex-col gap-7 mt-8"
    >
      @if (getGeneralErrors().length > 0) {
        <div class="bg-danger-50 border border-danger-200 text-danger-800 px-4 py-3 rounded-lg text-sm">
          @for (error of getGeneralErrors(); track error) {
            <p>{{ error }}</p>
          }
        </div>
      }

      <app-form-input
        formControlName="login"
        label="E-mail ou nom d'utilisateur"
        type="text"
        placeholder="Entrez votre e-mail ou nom d'utilisateur"
        [errorMessage]="getFieldError('login')"
        [formControlDisabled]="isSubmitting()"
        [required]="true">
      </app-form-input>

      <app-form-input
        formControlName="password"
        label="Mot de passe"
        type="password"
        placeholder="Entrez votre mot de passe"
        [errorMessage]="getFieldError('password')"
        [formControlDisabled]="isSubmitting()"
        [required]="true">
      </app-form-input>

      <button
        type="submit"
        class="btn-primary mx-auto mt-2"
        [disabled]="isSubmitting() || loginForm.invalid"
      >
        @if (isSubmitting()) {
          Connexion en cours...
        } @else {
          Se connecter
        }
      </button>

    </form>

  </div>
</section>
